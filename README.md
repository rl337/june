# June - A Coding Agent

June is a coding agent that uses Together.ai as its backend. This program is its main long-running process.

## Setup

### 1. Clone the Repository (if applicable)
If you haven't already, clone the project to your local machine.

### 2. Install Dependencies
This project uses [Poetry](https://python-poetry.org/) for dependency management and packaging.

First, ensure you have Poetry installed. You can find installation instructions on the [official Poetry website](https://python-poetry.org/docs/#installation).

Then, navigate to the project root directory (where `pyproject.toml` is located) and run:

```bash
poetry install
```
This will create a virtual environment (if one doesn't exist for the project yet) and install all necessary dependencies as defined in `pyproject.toml` and `poetry.lock`.

### 3. Set the Together.ai API Key
Export the API key as an environment variable:
```bash
export TOGETHER_API_KEY="your_api_key_here"
```
Replace `"your_api_key_here"` with your actual Together.ai API key. This key is required for the agent to communicate with the Together.ai API.

### 4. Run the Agent
The agent is packaged as a runnable module. Execute it from the project root directory:
```bash
python -m june_agent
```
Alternatively, you can run it via Poetry:
```bash
poetry run python -m june_agent
```
The agent will start, and the HTTP server will be available on `http://localhost:8080`.

## Web Interface

Once the agent is running, a web interface is available at `http://localhost:8080/`.
This interface allows you to:
*   View the current agent status.
*   See a list of current tasks, their status, and results/errors.
*   Submit new tasks via a form.
*   View a log of recent agent activities.

The interface automatically refreshes to provide live updates.

## API Endpoints

*   `GET /status`: Returns the current status of the agent and task counts (e.g., pending, processing, completed, failed).
*   `GET /tasks`: Lists all current tasks and their statuses, including results or error messages if processed.
*   `POST /tasks`: Creates a new task. Expects a JSON payload with a `description` field.
    Example: `curl -X POST -H "Content-Type: application/json" -d '{"description":"Write a python function to calculate factorial"}' http://localhost:8080/tasks`

## Running Tests

This project uses Pytest for unit testing. To run the tests, navigate to the project root directory and execute:

```bash
poetry run pytest
```
This command will run Pytest within the Poetry-managed virtual environment, discovering and executing tests located in the `tests/` directory.

## Project Structure

*   `june_agent/`: Main package directory for the agent.
    *   `__init__.py`: Marks the directory as a Python package.
    *   `__main__.py`: Main entry point for the agent (runnable module). Contains the agent loop and coordinates other components like the web service and task processing.
    *   `request.py`: Defines `APIRequest` abstract base class and `TogetherAIRequest` for interacting with the Together.ai API. This module handles API key access and client initialization.
    *   `task.py`: Defines the `Task` class, which encapsulates the properties (ID, description, status, result, error_message) and processing logic for an individual task.
    *   `web_service.py`: Contains the Flask web server logic, including route definitions (`/status`, `/tasks`) and the application factory (`create_app`).
    *   `svg.py`: Utility for generating SVGs (currently not directly used by the core agent tasks).
    *   `chart.py`: Utility for generating chart SVGs (currently not directly used by the core agent tasks).
*   `tests/`: Contains unit tests.
    *   `__init__.py`: Marks the directory as a Python package.
    *   `test_request.py`: Unit tests for API request logic (`june_agent.request`).
    *   `test_task.py`: Unit tests for the Task class (`june_agent.task`).
    *   `test_web_service.py`: Unit tests for the Flask web service (`june_agent.web_service`).
*   `pyproject.toml`: Poetry configuration file, specifying project metadata, dependencies, and Python version compatibility.
*   `poetry.lock`: Lock file generated by Poetry, ensuring reproducible dependency installation across environments.
*   `README.md`: This file.
